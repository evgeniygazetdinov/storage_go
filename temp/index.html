<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>
    
</head>
<style>
  .pointer-link {
      cursor: pointer;
  }
</style>
<body>
  <div id="container-table">
    <table id="calendar">
      <tr>
        <th>S</th>
        <th>M</th>
        <th>T</th>
        <th>W</th>
        <th>T</th>
        <th>F</th>
        <th>S</th>
      </tr>
    </table>
  </div>
  <script >
    function removeItem(button){

      var item = button,
            confirmMessage;
        if (item) {
            confirmMessage = item.getAttribute("data-confirm");

            if (!confirmMessage || window.confirm(confirmMessage)) {
                item.parentNode.removeChild(item);
            }
        }
        else {
            throw new Error("No item found");
        }
    }

    function buttonEventHandler(event){
      event.preventDefault();
      console.log(event.target)
      removeItem(event.target);
      id = event.target.id
      var xhr = new XMLHttpRequest();
      xhr.open( "POST", '/addEvent?id='+id , false);
      xhr.send();
    }
    function tdclick(event){
      var xmlHttp = new XMLHttpRequest();
      id = event.target.id
      xmlHttp.open( "GET", '/forCheck?id='+id , false); // false for synchronous request
      xmlHttp.send( null );
      console.log(xmlHttp.responseText);
      var btn = document.createElement("BUTTON");  //<button> element
      btn.onclick=buttonEventHandler;
      var t = document.createTextNode("add event"); // Create a text node

      btn.appendChild(t);
      var container = document.getElementById("container-table"); 
      container.appendChild(btn)

    // event.stopPropagation()
};
var table = document.getElementById("calendar");
var htmlstring = "";
for (var i = 1; i <= 5; i++) {
//open tr tag
htmlstring += "<tr>";
for (var i = 1; i <= 30; i++) {
  var days = "<td id='"+i+"'onclick='tdclick(event)'><a class='pointer-link'>" + i + "</a></td>";
  //print 1 to 31 with td tag
  htmlstring += days;
  //if i divide by 7 and remainder is 0
  if (i % 7 == 0 || i == 31) {
    htmlstring += "</tr>";
    htmlstring += "<tr>";
  }
};
htmlstring += "</tr>";
};
//console.log(htmlstring);
table.insertAdjacentHTML('beforeend', htmlstring)

  </script> 
</body>
</html>
